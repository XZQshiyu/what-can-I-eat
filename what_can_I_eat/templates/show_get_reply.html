{% extends "test.html" %}
{% block title %}
    首页
{% endblock %}


{% block content %}
<!DOCTYPE html>
<html>

<head>
  {% load static %}

</head>

<style>
  /* 导航栏样式 */
  .navi {
    background-color: #343a40;
    padding: 10px 0;
  }

  .wrap {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .navi-text li {
    display: inline-block;
    margin-right: 20px;
  }

  .navi-text a {
    text-decoration: none;
    color: #fff;
    font-size: 16px;
    transition: color 0.3s ease;
  }

  .navi-text a:hover {
    color: #ffc107;
  }

  .menu-container {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100px;
    margin: 0;
  }

  .menu {
    display: flex;
    justify-content: center;
    background-color: rgb(255, 200, 210);
    /* 设置导航栏背景颜色为粉红色 */
    width: 50%;
    height: 75px;

  }

  /* 调整 icons 样式 */
  .icons {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    width: 100%;
  }

  .icons a {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-decoration: none;
    color: black;
    padding: 5px;
  }


  .icons img {
    width: 30px;
    height: 30px;
    transition: transform 0.3s;
    /* 添加过渡效果，当变换属性改变时，过渡时间为 0.3 秒 */
  }

  .icons img:hover {
    transform: scale(1.2);
    /* 鼠标悬停时，将图标放大 1.2 倍 */
  }


  .icon-text {
    font-size: 14px;
    margin-top: 5px;
  }

  /* 内容区域样式 */
  .content {
    max-width: 800px;
    margin: 30px auto;
    padding: 20px;
    background-color: #fff;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }

  .content p {
    font-size: 16px;
    line-height: 1.5;
    margin-bottom: 10px;
  }

  /* 回到顶部 */
  #backToTop {
    display: none;
    position: fixed;
    bottom: 20px;
    right: 20px;
    background-color: rgb(182, 183, 183);
    border: none;
    color: white;
    padding: 10px 15px;
    cursor: pointer;
    border-radius: 50%;
    font-size: 16px;
    z-index: 30040200;
  }

  #backToTop.show {
    opacity: 1;
  }

  .shownow {
    background-color: #fff6bb;
    width: 150px;
    height: 65px;
  }

  /*评论区域样式*/
  .user-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    border: 2px solid #fff;
    box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);
  }

  .button-row {
    display: flex;
    justify-content: space-between;
    margin-top: 0px;
    position: relative;
  }


  .button {
    cursor: pointer;
    border-radius: 20px;
    transition: background-color 0.3s;
    border: none;

  }


  .image1 {
    height: 20px;
    width: 20px;
  }

  .text {
    font-weight: bold;
  }

/* 用户信息区域样式 */
.user-profile {
  max-width: 800px;
  margin: 20px auto;
  padding: 20px;
  background-color: #fff;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  border-radius: 10px;
}

.profile-card {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.user-avatar img {
    width: 50px; /* 设置图片的宽度 */
    height: 50px; /* 设置图片的高度 */
    border-radius: 50%; /* 将图片设为圆形 */
}

.avatar-img {
  width: 80px;
  height: 80px;
  border-radius: 50%;
}

.user-details {
  text-align: left;
}

.user-details h3 {
  margin: 0;
  font-size: 24px;
  color: #333;
}

.user-details p {
  margin: 10px 0 0;
  font-size: 16px;
  color: #555;
}
</style>

<script>
  // JavaScript function to go back to the previous page
  function goBack() {
    window.history.back();
  }

</script>

<body>
  <!--导航 start-->
  <div class="navi">
    <div class="wrap">
      <ul class="navi-text">
        <li><a href="/home">Home</a></li>
        <li><a href="/campusFood">校内美食</a></li>
        <li><a href="/offCampusFood">校外美食</a></li>
        <li><a href="/comment">我要点评</a></li>
        <li><a href="{% url 'myself' '1' %}">我的主页</a></li>
        <li><a href="/contact">联系我们</a></li>
        <li><a href="/user_management">用户列表</a></li>
        <li><a href="javascript:void(0);" onclick="goBack()">返回</a></li>
        <!-- 返回按钮 -->
      </ul>
    </div>
  </div>
  <!--导航 end-->
  
  <div class="user-profile">
    <div class="profile-card">
      <div class="user-avatar">
        <img src="{{ user.3 }}" alt="用户头像" class="avatar-img">
      </div>
      <div class="user-details">
        <h3>用户名: {{ user.1 }}</h3>
        <p>个人简介: {{ user.2 }}</p>
      </div>
    </div>
  </div>

  <div class="menu-container">
    <div class="menu">
      <div class="icons">


        <a href="{% url 'show_get_reply' '1' %}" class="shownow">
          <img src="{% static 'icons/评论 (1).svg' %}" alt="评论">
          <span class="icon-text">评论</span>
        </a>



        <a href="{% url 'myself' '1' %}">
          <img src="{% static 'icons/我的作品 (1).svg' %}" alt="我的作品">
          <span class="icon-text">我的作品</span>
        </a>



        <a href="{% url 'show_bookmark' '1' %}">
          <img src="{% static 'icons/收藏.svg' %}" alt="我的收藏">
          <span class="icon-text">我的收藏</span>
        </a>

      </div>
    </div>

  </div>
  </div>
  <div class="container">
    {% for reply in reply_list %}
    <div class="card d-flex flex-column">
      <div class="row row-0 flex-fill">
        <div class="col-md-3">
          <img src="{{ reply.1 }}" class="w-60 h-auto object-cover" alt="Card side image">
        </div>
        <div class="col">
          <div class="card-body">
            <h3 class="card-title"><a href="#">{{ reply.2 }}</a></h3>
            <div class="text-muted">{{ reply.9 }}</div>
            <div class="d-flex align-items-center pt-4 mt-auto">
              <span class="avatar" style="background-image: url('{{ reply.4 }}')"></span>
              <div class="ms-3">
                <a href="#" class="text-body">{{ reply.3 }}</a>
              </div>
              <div class="ms-auto">
                <a href="#" class="icon d-none d-md-inline-block ms-3 text-red">
                  <!-- Download SVG icon from http://tabler-icons.io/i/heart -->
                  <!-- SVG icon code -->
                </a>
              </div>
            </div>
          </div>
          <div class="text-muted">{{ reply.10 }}</div>
          <div class="button-row mt-3 d-flex justify-content-between">
          <button class="button">
            {% load static %}
            <img src="{% static 'icons/赞 (1) copy.svg' %}" alt="赞" width="50px" height="50px" onclick="toggleLike(this)"
              class="image1">
            <span>{{ reply.6 }}</span>
          </button>
          <button class="button">
            {% load static %}
            <img src="{% static 'icons/评论 (1).svg' %}" alt="评论" width="50px" height="50px"
              onclick="showCommentOptions(this)" class="image1">

          </button>
          <button class="button">
            {% load static %}
            <img src="{% static 'icons/收藏.svg' %}" alt="收藏" width="50px" height="50px" class="image1">
          </button>
        </div>
      </div>
    </div>
    {% endfor %}

  </div>
  <!-- 回到顶部按钮 -->
  <button id="backToTop">^</button>
  <!-- 回到顶部按钮 -->
</body>

<script>
  var backToTopButton = document.getElementById('backToTop');
  window.addEventListener('scroll', function () {
    if (window.scrollY > 200) {
      backToTopButton.style.display = 'block';
    } else {
      backToTopButton.style.display = 'none';
    }
  });

  document.getElementById('backToTop').onclick = function () {
    // 以较快的速度滚动到页面顶部
    let scrollStep = -200; // 每次滚动的像素值，可根据需要调整
    let scrollInterval = setInterval(() => {
      if (window.scrollY !== 0) {
        window.scrollBy(0, scrollStep);
      } else {
        clearInterval(scrollInterval);
      }
    }, 10);
  };


  function toggleLike(likeButton) {
    let likesCountElement = likeButton.nextElementSibling;
    let currentLikes = parseInt(likesCountElement.textContent);
    if (likeButton.classList.contains('liked')) {
      likeButton.classList.remove('liked');
      likesCountElement.textContent = currentLikes > 0 ? currentLikes - 1 : 0;
      likeButton.style.transform = 'scale(1)';
    } else {
      likeButton.classList.add('liked');
      likesCountElement.textContent = currentLikes + 1;
      likeButton.style.transform = 'scale(1.2)';
      setTimeout(() => {
        likeButton.style.transform = 'scale(1)';
      }, 200);
    }
  }
</script>

</html>

{% endblock %}